<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Message Relay - ServiceWorker Cookbook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: monospace;
      font-size: 1rem;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
<p><b>Warning:</b> this demo doesn't fully work in Chrome yet (because of <a href="https://code.google.com/p/chromium/issues/detail?id=549346" target="_blank">this issue</a>). Read the source code of the recipe for more details.</p>
<p>
<button class="register-button">
Register SW
</button>
</p>
<div>
  Service Worker Status: <span id="status">not supported</span>
</div>

Open <a href="./index.html" target="_blank">another window with this page</a> and type some text in below to postMessage it to the ServiceWorker which will forward the message along.

<div id="received"></div>

<textarea id="message" style="width: 100%" rows="10"></textarea>

<script src="./index.js"></script>
<script src="./postmessagetest.js"></script>

</body>
</html>
